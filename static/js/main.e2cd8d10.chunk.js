(this.webpackJsonptyperace=this.webpackJsonptyperace||[]).push([[0],{17:function(e,t,n){e.exports={box:"InputBox_box__2jwsb",label:"InputBox_label__2EUb9",label__error:"InputBox_label__error__1BmMv",inputBox:"InputBox_inputBox__13-oZ",inputBox__error:"InputBox_inputBox__error__3VcVX"}},20:function(e,t,n){e.exports={container:"LobbyUserItem_container__1kD2a",container__ready:"LobbyUserItem_container__ready__EJIrs",username:"LobbyUserItem_username__3jWRc",readyIcon:"LobbyUserItem_readyIcon__1ZTec"}},28:function(e,t,n){e.exports={page:"App_page__63Z8_"}},29:function(e,t,n){e.exports={header:"Header_header__1LeQS",logo:"Header_logo__euief"}},3:function(e,t,n){e.exports={container:"ProgressInfoContainer_container__2p144",top:"ProgressInfoContainer_top__2_a4m",bottom:"ProgressInfoContainer_bottom__3pSBV",textWrapperLeft:"ProgressInfoContainer_textWrapperLeft__16JKy",textWrapperCenter:"ProgressInfoContainer_textWrapperCenter__2imol",textWrapperRight:"ProgressInfoContainer_textWrapperRight__3jM_W",text:"ProgressInfoContainer_text__k4VoU",text__light:"ProgressInfoContainer_text__light__VhErc",space:"ProgressInfoContainer_space__31O1f",table:"ProgressInfoContainer_table__3uLuS"}},30:function(e,t,n){e.exports={container:"Container_container__3fVIS",container__small:"Container_container__small__2jWP6"}},31:function(e,t,n){e.exports={button:"Button_button__25LLe",button__small:"Button_button__small__1FKNm"}},32:function(e,t,n){e.exports={game:"Game_game__1p4Fi",playerSpace:"Game_playerSpace__3tt_o"}},4:function(e,t,n){e.exports={overlay:"WinPopup_overlay__TPYvR",container:"WinPopup_container__3gbwk",top:"WinPopup_top__2aGgB",icon:"WinPopup_icon__32pMy",winnerName:"WinPopup_winnerName__3jc7m",winnerSubtitle:"WinPopup_winnerSubtitle__3aVic",divider:"WinPopup_divider__1qT-J",mid:"WinPopup_mid__3Pr1Y",playerInfo:"WinPopup_playerInfo__3ucPg",playerRank:"WinPopup_playerRank__2LJjx",playerName:"WinPopup_playerName__UdG5E",textLight:"WinPopup_textLight__1WENg",bottom:"WinPopup_bottom__2E30N",wantsReplayIcon:"WinPopup_wantsReplayIcon__17aOc",alignRight:"WinPopup_alignRight__3notp"}},50:function(e,t,n){e.exports={spacer:"JoinLobby_spacer__2B2id"}},55:function(e,t,n){},6:function(e,t,n){e.exports={container:"Road_container__3bwUl",userInfoRow:"Road_userInfoRow__1Xprc",lightText:"Road_lightText__NvJoj",lighterText:"Road_lighterText__2o21I",roadContainer:"Road_roadContainer__2H0b6",userInfoRowSpacer:"Road_userInfoRowSpacer__3V1q-",road:"Road_road__49ZTC",useableRoad:"Road_useableRoad__ncx0I",flagIcon:"Road_flagIcon__1Uw4X",carBox:"Road_carBox__2Qhsw",carIcon:"Road_carIcon__299w1"}},9:function(e,t,n){e.exports={lobby:"Lobby_lobby__UFPAD",title:"Lobby_title__2TT7M",subtitle:"Lobby_subtitle__3x2gm",separator:"Lobby_separator__kQUti",users:"Lobby_users__3PT4U",cars:"Lobby_cars__8sQxf",car:"Lobby_car__2AECy",car__selected:"Lobby_car__selected__X0woP"}},90:function(e,t,n){"use strict";n.r(t);var a,s=n(1),c=n.n(s),r=n(48),o=n.n(r),i=(n(55),n(8)),l=n(49),_=n(28),j=n.n(_),d=n(29),b=n.n(d),u=n.p+"static/media/twentyfivesoftware-logo.f2a26368.png",x=n(0),p=function(){return Object(x.jsx)("div",{className:b.a.header,children:Object(x.jsx)("img",{src:u,alt:"",className:b.a.logo})})},m=n(50),h=n.n(m),O=n(30),f=n.n(O),g=function(e){var t=e.children,n=e.small,a=void 0!==n&&n;return Object(x.jsx)("section",{className:a?f.a.container__small:f.a.container,children:t})},v=n(17),N=n.n(v),y=function(e){var t=e.label,n=e.value,a=e.onChange,s=e.length,c=void 0===s?30:s,r=e.error,o=void 0!==r&&r;return Object(x.jsxs)("div",{className:N.a.box,children:[Object(x.jsx)("div",{className:o?N.a.label__error:N.a.label,children:t}),Object(x.jsx)("input",{type:"text",className:o?N.a.inputBox__error:N.a.inputBox,maxLength:c,value:n,onChange:function(e){return a(e.target.value)}})]})},I=n(31),C=n.n(I),R=function(e){var t=e.text,n=e.onClick,a=e.small,s=void 0!==a&&a;return Object(x.jsx)("div",{className:s?C.a.button__small:C.a.button,onClick:function(){return n()},children:t})},P=function(){var e=Object(s.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(""),r=Object(i.a)(c,2),o=r[0],l=r[1],_=Object(s.useState)(!1),j=Object(i.a)(_,2),d=j[0],b=j[1],u=Object(s.useState)(!1),p=Object(i.a)(u,2),m=p[0],O=p[1],f=function(){return q.emit("joinLobby",n,o)};return Object(s.useEffect)((function(){q.on("errorIncorrectUsername",(function(){return b(!0)})),q.on("errorLobbyNotFound",(function(){return O(!0)}))}),[]),Object(x.jsx)("div",{onKeyDown:function(e){return"Enter"===e.key?f():null},children:Object(x.jsxs)(g,{children:[Object(x.jsx)(y,{label:"USERNAME",value:n,onChange:function(e){d&&b(!1),a(e)},length:30,error:d}),Object(x.jsx)(y,{label:"LOBBY ID (EMPTY FOR NEW LOBBY)",value:o,onChange:function(e){m&&O(!1),l(e.toUpperCase())},length:5,error:m}),Object(x.jsx)("div",{className:h.a.spacer}),Object(x.jsx)(R,{text:0===o.length?"CREATE LOBBY":"JOIN",onClick:function(){return f()}})]})})},w=n(7),L=n(9),B=n.n(L),S=n(5),T=n(20),W=n.n(T),E=function(e){var t=e.username,n=e.isReady;return Object(x.jsxs)("div",{className:n?W.a.container__ready:W.a.container,children:[Object(x.jsx)("p",{className:W.a.username,children:t}),n&&Object(x.jsx)(w.a,{icon:S.d,className:W.a.readyIcon})]})},k=[S.b,S.k,S.i,S.l,S.c,S.a,S.g,S.f,S.j],A=function(){var e,t,n,a=null!==(e=Object(s.useContext)($))&&void 0!==e?e:{lobbyId:"",players:[]},c=a.lobbyId,r=a.players,o=null!==(t=null===(n=r.find((function(e){return e.socketId===q.id})))||void 0===n?void 0:n.carIndex)&&void 0!==t?t:0;return Object(x.jsxs)("div",{className:B.a.lobby,children:[Object(x.jsxs)(g,{children:[Object(x.jsx)("h1",{className:B.a.title,children:"LOBBY"}),Object(x.jsxs)("p",{className:B.a.subtitle,children:["ID: ",Object(x.jsx)("span",{children:c})]}),Object(x.jsx)("div",{className:B.a.separator}),Object(x.jsx)("ul",{className:B.a.users,children:r.map((function(e,t){return Object(x.jsx)(E,{username:e.username,isReady:e.isReady},t)}))}),Object(x.jsx)("div",{className:B.a.separator}),Object(x.jsx)(R,{text:"READY",onClick:function(){return q.emit("toggleReady")}})]}),Object(x.jsx)(g,{small:!0,children:Object(x.jsx)("div",{className:B.a.cars,children:k.map((function(e,t){return Object(x.jsx)("div",{className:t===o?B.a.car__selected:B.a.car,onClick:function(){return q.emit("switchCar",t)},children:Object(x.jsx)(w.a,{icon:e})},t)}))})})]})},F=n(32),U=n.n(F),M=n(3),J=n.n(M),Y=function(e){var t,n=e.currentTextPosition,a=null!==(t=Object(s.useContext)(z))&&void 0!==t?t:{text:"",players:[],gameStartTime:0},c=a.text,r=a.players,o=a.gameStartTime,i=r.find((function(e){return e.socketId===q.id}));if(!i)return Object(x.jsx)(x.Fragment,{});var l=Math.floor(((i.isFinished?i.finishTime:Date.now())-o)/1e3);return Object(x.jsxs)("section",{className:J.a.container,children:[Object(x.jsx)("div",{className:J.a.top,children:Object(x.jsxs)("div",{className:J.a.table,children:[Object(x.jsx)("span",{className:J.a.text__light,children:Object(x.jsx)("div",{children:c.substring(0,n)})}),Object(x.jsx)("span",{className:J.a.text,children:c[n]}),Object(x.jsx)("span",{className:J.a.text,children:c.substring(n+1)})]})}),Object(x.jsxs)("div",{className:J.a.bottom,children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("span",{className:J.a.text,children:i.typingSpeed}),Object(x.jsx)("span",{className:J.a.text__light,children:" K/min"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("span",{className:J.a.text,children:n}),Object(x.jsx)("span",{className:J.a.text__light,children:"/"}),Object(x.jsx)("span",{className:J.a.text,children:c.length}),Object(x.jsx)("span",{className:J.a.text__light,children:" letters typed"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("span",{className:J.a.text,children:Math.floor(100*n/c.length)}),Object(x.jsx)("span",{className:J.a.text__light,children:"% completed"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("span",{className:J.a.text,children:l<0?0:l}),Object(x.jsx)("span",{className:J.a.text__light,children:"s passed"})]})]})]})},D=n(6),V=n.n(D),G=function(e){var t=e.username,n=e.speed,a=e.progress,s=e.color,c=e.carIndex;return Object(x.jsxs)("section",{className:V.a.container,children:[Object(x.jsxs)("div",{className:V.a.userInfoRow,children:[Object(x.jsx)("p",{className:V.a.lightText,children:t}),Object(x.jsx)("div",{className:V.a.userInfoRowSpacer,children:Object(x.jsx)("p",{children:" \xb7 "})}),Object(x.jsxs)("p",{className:V.a.lightText,children:["".concat(n," "),Object(x.jsx)("span",{className:V.a.lighterText,children:"K/min"})]})]}),Object(x.jsxs)("div",{className:V.a.roadContainer,children:[Object(x.jsx)("div",{className:V.a.road,children:Object(x.jsx)("div",{className:V.a.useableRoad,children:Object(x.jsx)("div",{style:{marginLeft:"".concat(a,"%"),marginBottom:10},className:V.a.carBox,children:Object(x.jsx)(w.a,{icon:k[c],style:{color:s},className:V.a.carIcon})})})}),Object(x.jsx)("div",{children:Object(x.jsx)(w.a,{icon:S.e,style:{color:100===a?s:"#505050"},className:V.a.flagIcon})})]})]})},K=n(4),H=n.n(K),Q=function(){var e,t=Object(s.useContext)(z),n=(null!==(e=null===t||void 0===t?void 0:t.players)&&void 0!==e?e:[]).sort((function(e,t){return e.finishTime>t.finishTime?1:-1}));return 0===n.length?Object(x.jsx)(x.Fragment,{}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:H.a.overlay}),Object(x.jsxs)("div",{className:H.a.container,children:[Object(x.jsxs)("div",{className:H.a.top,children:[Object(x.jsx)(w.a,{icon:S.h,className:H.a.icon}),Object(x.jsx)("div",{className:H.a.winnerName,children:n[0].username}),Object(x.jsx)("div",{className:H.a.winnerSubtitle,children:"WON THE GAME"})]}),Object(x.jsx)("div",{className:H.a.divider}),Object(x.jsx)("table",{className:H.a.mid,children:n.map((function(e,a){var s;return Object(x.jsxs)("tr",{className:H.a.playerInfo,children:[Object(x.jsxs)("td",{className:H.a.playerRank,children:["#",a+1]}),Object(x.jsx)("td",{className:H.a.playerName,children:e.username}),Object(x.jsxs)("td",{className:H.a.alignRight,children:[Math.floor((e.finishTime-(null!==(s=null===t||void 0===t?void 0:t.gameStartTime)&&void 0!==s?s:0))/1e3),Object(x.jsx)("span",{className:H.a.textLight,children:"s"})]}),Object(x.jsxs)("td",{className:H.a.alignRight,children:[e.typingSpeed," ",Object(x.jsx)("span",{className:H.a.textLight,children:"K/min"})]}),n.some((function(e){return e.playAgain}))&&Object(x.jsx)("td",{children:e.playAgain&&Object(x.jsx)(w.a,{icon:S.m,className:H.a.wantsReplayIcon})})]},a)}))}),Object(x.jsx)("div",{className:H.a.bottom,children:Object(x.jsx)(R,{text:"PLAY AGAIN",small:!0,onClick:function(){return q.emit("togglePlayAgain")}})})]})]})},X=["#74B9FF","#83A868","#FCAC6F","#DF4A70","#BE9CFC"],Z=function(){var e=Object(s.useState)(0),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(s.useContext)(z);return Object(s.useEffect)((function(){var e=function(e){(null===c||void 0===c?void 0:c.text[n])===e.key&&(a(n+1),q.emit("gameUpdate",n+1))};return window.addEventListener("keydown",e),q.on("restart",(function(){return a(0)})),function(){window.removeEventListener("keydown",e)}}),[n,null===c||void 0===c?void 0:c.text]),Object(x.jsxs)("div",{className:U.a.game,children:[Object(x.jsx)("div",{className:U.a.playerSpace,children:null===c||void 0===c?void 0:c.players.map((function(e,t){return Object(x.jsx)(G,{username:e.username,speed:e.typingSpeed,progress:Math.floor(100*e.currentTextPosition/c.text.length),color:X[t%X.length],carIndex:e.carIndex},t)}))}),Object(x.jsx)("div",{children:Object(x.jsx)(Y,{currentTextPosition:n})}),(null===c||void 0===c?void 0:c.isFinished)&&Object(x.jsx)(Q,{})]})},q=Object(l.io)(null!==(a="https://typerace-server.herokuapp.com")?a:""),z=Object(s.createContext)(null),$=Object(s.createContext)(null),ee=function(){var e=Object(s.useState)(null),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(null),r=Object(i.a)(c,2),o=r[0],l=r[1];return Object(s.useEffect)((function(){q.on("lobbyState",(function(e){return a(e)})),q.on("gameState",(function(e){return l(e)}))}),[]),console.log(o),o?Object(x.jsxs)("div",{className:j.a.page,children:[Object(x.jsx)(p,{}),Object(x.jsx)(z.Provider,{value:o,children:Object(x.jsx)(Z,{})})]}):Object(x.jsxs)("div",{className:j.a.page,children:[Object(x.jsx)(p,{}),!n&&Object(x.jsx)(P,{}),n&&Object(x.jsx)($.Provider,{value:n,children:Object(x.jsx)(A,{})})]})};o.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(ee,{})}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.e2cd8d10.chunk.js.map