(this.webpackJsonptyperace=this.webpackJsonptyperace||[]).push([[0],{17:function(e,t,a){e.exports={box:"InputBox_box__2jwsb",label:"InputBox_label__2EUb9",label__error:"InputBox_label__error__1BmMv",inputBox:"InputBox_inputBox__13-oZ",inputBox__error:"InputBox_inputBox__error__3VcVX"}},20:function(e,t,a){e.exports={container:"LobbyUserItem_container__1kD2a",container__ready:"LobbyUserItem_container__ready__EJIrs",username:"LobbyUserItem_username__3jWRc",readyIcon:"LobbyUserItem_readyIcon__1ZTec"}},28:function(e,t,a){e.exports={page:"App_page__63Z8_"}},29:function(e,t,a){e.exports={header:"Header_header__1LeQS",logo:"Header_logo__euief"}},3:function(e,t,a){e.exports={container:"ProgressInfoContainer_container__2p144",top:"ProgressInfoContainer_top__2_a4m",bottom:"ProgressInfoContainer_bottom__3pSBV",textWrapperLeft:"ProgressInfoContainer_textWrapperLeft__16JKy",textWrapperCenter:"ProgressInfoContainer_textWrapperCenter__2imol",textWrapperRight:"ProgressInfoContainer_textWrapperRight__3jM_W",text:"ProgressInfoContainer_text__k4VoU",text__light:"ProgressInfoContainer_text__light__VhErc",space:"ProgressInfoContainer_space__31O1f",table:"ProgressInfoContainer_table__3uLuS"}},30:function(e,t,a){e.exports={container:"Container_container__3fVIS",container__small:"Container_container__small__2jWP6"}},31:function(e,t,a){e.exports={button:"Button_button__25LLe",button__small:"Button_button__small__1FKNm"}},32:function(e,t,a){e.exports={game:"Game_game__1p4Fi",playerSpace:"Game_playerSpace__3tt_o"}},4:function(e,t,a){e.exports={overlay:"WinPopup_overlay__TPYvR",container:"WinPopup_container__3gbwk",top:"WinPopup_top__2aGgB",icon:"WinPopup_icon__32pMy",winnerName:"WinPopup_winnerName__3jc7m",winnerSubtitle:"WinPopup_winnerSubtitle__3aVic",divider:"WinPopup_divider__1qT-J",mid:"WinPopup_mid__3Pr1Y",playerInfo:"WinPopup_playerInfo__3ucPg",playerRank:"WinPopup_playerRank__2LJjx",playerName:"WinPopup_playerName__UdG5E",textLight:"WinPopup_textLight__1WENg",bottom:"WinPopup_bottom__2E30N",wantsReplayIcon:"WinPopup_wantsReplayIcon__17aOc",alignRight:"WinPopup_alignRight__3notp"}},50:function(e,t,a){e.exports={spacer:"JoinLobby_spacer__2B2id"}},55:function(e,t,a){},6:function(e,t,a){e.exports={container:"Road_container__3bwUl",userInfoRow:"Road_userInfoRow__1Xprc",lightText:"Road_lightText__NvJoj",lighterText:"Road_lighterText__2o21I",roadContainer:"Road_roadContainer__2H0b6",userInfoRowSpacer:"Road_userInfoRowSpacer__3V1q-",road:"Road_road__49ZTC",useableRoad:"Road_useableRoad__ncx0I",flagIcon:"Road_flagIcon__1Uw4X",carBox:"Road_carBox__2Qhsw",carIcon:"Road_carIcon__299w1"}},9:function(e,t,a){e.exports={lobby:"Lobby_lobby__UFPAD",title:"Lobby_title__2TT7M",subtitle:"Lobby_subtitle__3x2gm",separator:"Lobby_separator__kQUti",users:"Lobby_users__3PT4U",cars:"Lobby_cars__8sQxf",car:"Lobby_car__2AECy",car__selected:"Lobby_car__selected__X0woP"}},90:function(e,t,a){"use strict";a.r(t);var n,s=a(1),c=a.n(s),r=a(48),o=a.n(r),i=(a(55),a(8)),l=a(49),_=a(28),j=a.n(_),b=a(29),d=a.n(b),u=a.p+"static/media/twentyfivesoftware-logo.f2a26368.png",x=a(0),p=function(){return Object(x.jsx)("div",{className:d.a.header,children:Object(x.jsx)("img",{src:u,alt:"",className:d.a.logo})})},m=a(50),h=a.n(m),O=a(30),g=a.n(O),f=function(e){var t=e.children,a=e.small,n=void 0!==a&&a;return Object(x.jsx)("section",{className:n?g.a.container__small:g.a.container,children:t})},N=a(17),v=a.n(N),y=function(e){var t=e.label,a=e.value,n=e.onChange,s=e.length,c=void 0===s?30:s,r=e.error,o=void 0!==r&&r;return Object(x.jsxs)("div",{className:v.a.box,children:[Object(x.jsx)("div",{className:o?v.a.label__error:v.a.label,children:t}),Object(x.jsx)("input",{type:"text",className:o?v.a.inputBox__error:v.a.inputBox,maxLength:c,value:a,onChange:function(e){return n(e.target.value)}})]})},I=a(31),R=a.n(I),P=function(e){var t=e.text,a=e.onClick,n=e.small,s=void 0!==n&&n;return Object(x.jsx)("div",{className:s?R.a.button__small:R.a.button,onClick:function(){return a()},children:t})},S=function(){var e=Object(s.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(""),r=Object(i.a)(c,2),o=r[0],l=r[1],_=Object(s.useState)(!1),j=Object(i.a)(_,2),b=j[0],d=j[1],u=Object(s.useState)(!1),p=Object(i.a)(u,2),m=p[0],O=p[1],g=function(){return q.emit("joinLobby",a,o)};return Object(s.useEffect)((function(){q.on("errorIncorrectUsername",(function(){return d(!0)})),q.on("errorLobbyNotFound",(function(){return O(!0)}))}),[]),Object(x.jsx)("div",{onKeyDown:function(e){return"Enter"===e.key?g():null},children:Object(x.jsxs)(f,{children:[Object(x.jsx)(y,{label:"USERNAME",value:a,onChange:function(e){b&&d(!1),n(e)},length:30,error:b}),Object(x.jsx)(y,{label:"LOBBY ID (EMPTY FOR NEW LOBBY)",value:o,onChange:function(e){m&&O(!1),l(e.toUpperCase())},length:5,error:m}),Object(x.jsx)("div",{className:h.a.spacer}),Object(x.jsx)(P,{text:0===o.length?"CREATE LOBBY":"JOIN",onClick:function(){return g()}})]})})},C=a(7),w=a(9),L=a.n(w),B=a(5),W=a(20),T=a.n(W),E=function(e){var t=e.username,a=e.isReady;return Object(x.jsxs)("div",{className:a?T.a.container__ready:T.a.container,children:[Object(x.jsx)("p",{className:T.a.username,children:t}),a&&Object(x.jsx)(C.a,{icon:B.d,className:T.a.readyIcon})]})},k=[B.b,B.k,B.i,B.l,B.c,B.a,B.g,B.f,B.j],A=function(e){var t,a,n=e.lobbyState,s=null!==(t=null===(a=n.players.find((function(e){return e.socketId===q.id})))||void 0===a?void 0:a.carIndex)&&void 0!==t?t:0;return Object(x.jsxs)("div",{className:L.a.lobby,children:[Object(x.jsxs)(f,{children:[Object(x.jsx)("h1",{className:L.a.title,children:"LOBBY"}),Object(x.jsxs)("p",{className:L.a.subtitle,children:["ID: ",Object(x.jsx)("span",{children:n.lobbyId})]}),Object(x.jsx)("div",{className:L.a.separator}),Object(x.jsx)("ul",{className:L.a.users,children:n.players.map((function(e,t){return Object(x.jsx)(E,{username:e.username,isReady:e.isReady},t)}))}),Object(x.jsx)("div",{className:L.a.separator}),Object(x.jsx)(P,{text:"READY",onClick:function(){return q.emit("toggleReady")}})]}),Object(x.jsx)(f,{small:!0,children:Object(x.jsx)("div",{className:L.a.cars,children:k.map((function(e,t){return Object(x.jsx)("div",{className:t===s?L.a.car__selected:L.a.car,onClick:function(){return q.emit("switchCar",t)},children:Object(x.jsx)(C.a,{icon:e})},t)}))})})]})},F=a(32),U=a.n(F),M=a(3),J=a.n(M),Y=function(e){var t=e.gameState,a=e.currentTextPosition,n=t.text,s=t.players,c=t.gameStartTime,r=s.find((function(e){return e.socketId===q.id}));if(!r)return Object(x.jsx)(x.Fragment,{});var o=Math.floor(((r.isFinished?r.finishTime:Date.now())-c)/1e3);return Object(x.jsxs)("section",{className:J.a.container,children:[Object(x.jsx)("div",{className:J.a.top,children:Object(x.jsxs)("div",{className:J.a.table,children:[Object(x.jsx)("span",{className:J.a.text__light,children:Object(x.jsx)("div",{children:n.substring(0,a)})}),Object(x.jsx)("span",{className:J.a.text,children:n[a]}),Object(x.jsx)("span",{className:J.a.text,children:n.substring(a+1)})]})}),Object(x.jsxs)("div",{className:J.a.bottom,children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("span",{className:J.a.text,children:r.typingSpeed}),Object(x.jsx)("span",{className:J.a.text__light,children:" K/min"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("span",{className:J.a.text,children:a}),Object(x.jsx)("span",{className:J.a.text__light,children:"/"}),Object(x.jsx)("span",{className:J.a.text,children:n.length}),Object(x.jsx)("span",{className:J.a.text__light,children:" letters typed"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("span",{className:J.a.text,children:Math.floor(100*a/n.length)}),Object(x.jsx)("span",{className:J.a.text__light,children:"% completed"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("span",{className:J.a.text,children:o<0?0:o}),Object(x.jsx)("span",{className:J.a.text__light,children:"s passed"})]})]})]})},D=a(6),V=a.n(D),G=function(e){var t=e.username,a=e.speed,n=e.progress,s=e.color,c=e.carIndex;return Object(x.jsxs)("section",{className:V.a.container,children:[Object(x.jsxs)("div",{className:V.a.userInfoRow,children:[Object(x.jsx)("p",{className:V.a.lightText,children:t}),Object(x.jsx)("div",{className:V.a.userInfoRowSpacer,children:Object(x.jsx)("p",{children:" \xb7 "})}),Object(x.jsxs)("p",{className:V.a.lightText,children:["".concat(a," "),Object(x.jsx)("span",{className:V.a.lighterText,children:"K/min"})]})]}),Object(x.jsxs)("div",{className:V.a.roadContainer,children:[Object(x.jsx)("div",{className:V.a.road,children:Object(x.jsx)("div",{className:V.a.useableRoad,children:Object(x.jsx)("div",{style:{marginLeft:"".concat(n,"%"),marginBottom:10},className:V.a.carBox,children:Object(x.jsx)(C.a,{icon:k[c],style:{color:s},className:V.a.carIcon})})})}),Object(x.jsx)("div",{children:Object(x.jsx)(C.a,{icon:B.e,style:{color:100===n?s:"#505050"},className:V.a.flagIcon})})]})]})},K=a(4),H=a.n(K),Q=function(e){var t=e.gameState,a=t.players.sort((function(e,t){return e.finishTime>t.finishTime?1:-1}));return 0===a.length?Object(x.jsx)(x.Fragment,{}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:H.a.overlay}),Object(x.jsxs)("div",{className:H.a.container,children:[Object(x.jsxs)("div",{className:H.a.top,children:[Object(x.jsx)(C.a,{icon:B.h,className:H.a.icon}),Object(x.jsx)("div",{className:H.a.winnerName,children:a[0].username}),Object(x.jsx)("div",{className:H.a.winnerSubtitle,children:"WON THE GAME"})]}),Object(x.jsx)("div",{className:H.a.divider}),Object(x.jsx)("table",{className:H.a.mid,children:a.map((function(e,n){return Object(x.jsxs)("tr",{className:H.a.playerInfo,children:[Object(x.jsxs)("td",{className:H.a.playerRank,children:["#",n+1]}),Object(x.jsx)("td",{className:H.a.playerName,children:e.username}),Object(x.jsxs)("td",{className:H.a.alignRight,children:[Math.floor((e.finishTime-t.gameStartTime)/1e3),Object(x.jsx)("span",{className:H.a.textLight,children:"s"})]}),Object(x.jsxs)("td",{className:H.a.alignRight,children:[e.typingSpeed," ",Object(x.jsx)("span",{className:H.a.textLight,children:"K/min"})]}),a.some((function(e){return e.playAgain}))&&Object(x.jsx)("td",{children:e.playAgain&&Object(x.jsx)(C.a,{icon:B.m,className:H.a.wantsReplayIcon})})]},n)}))}),Object(x.jsx)("div",{className:H.a.bottom,children:Object(x.jsx)(P,{text:"PLAY AGAIN",small:!0,onClick:function(){return q.emit("togglePlayAgain")}})})]})]})},X=["#74B9FF","#83A868","#FCAC6F","#DF4A70","#BE9CFC"],Z=function(e){var t=e.gameState,a=Object(s.useState)(0),n=Object(i.a)(a,2),c=n[0],r=n[1];return Object(s.useEffect)((function(){var e=function(e){t.text[c]===e.key&&(r(c+1),q.emit("gameUpdate",c+1))};return window.addEventListener("keydown",e),q.on("restart",(function(){return r(0)})),function(){window.removeEventListener("keydown",e)}}),[c,t.text]),Object(x.jsxs)("div",{className:U.a.game,children:[Object(x.jsx)("div",{className:U.a.playerSpace,children:t.players.map((function(e,a){return Object(x.jsx)(G,{username:e.username,speed:e.typingSpeed,progress:Math.floor(100*e.currentTextPosition/t.text.length),color:X[a%X.length],carIndex:e.carIndex},a)}))}),Object(x.jsx)("div",{children:Object(x.jsx)(Y,{currentTextPosition:c,gameState:t})}),t.isFinished&&Object(x.jsx)(Q,{gameState:t})]})},q=Object(l.io)(null!==(n="https://typerace-server.herokuapp.com")?n:""),z=function(){var e=Object(s.useState)(null),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(null),r=Object(i.a)(c,2),o=r[0],l=r[1];return Object(s.useEffect)((function(){q.on("lobbyState",(function(e){return n(e)})),q.on("gameState",(function(e){return l(e)}))}),[]),console.log(o),o?Object(x.jsxs)("div",{className:j.a.page,children:[Object(x.jsx)(p,{}),Object(x.jsx)(Z,{gameState:o})]}):Object(x.jsxs)("div",{className:j.a.page,children:[Object(x.jsx)(p,{}),!a&&Object(x.jsx)(S,{}),a&&Object(x.jsx)(A,{lobbyState:a})]})};o.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(z,{})}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.2b6e6d09.chunk.js.map