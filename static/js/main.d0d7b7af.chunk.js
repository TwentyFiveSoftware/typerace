(this.webpackJsonptyperace=this.webpackJsonptyperace||[]).push([[0],{14:function(e,t,a){e.exports={title:"Lobby_title__2TT7M",subtitle:"Lobby_subtitle__3x2gm",separator:"Lobby_separator__kQUti",users:"Lobby_users__3PT4U"}},17:function(e,t,a){e.exports={box:"InputBox_box__2jwsb",label:"InputBox_label__2EUb9",label__error:"InputBox_label__error__1BmMv",inputBox:"InputBox_inputBox__13-oZ",inputBox__error:"InputBox_inputBox__error__3VcVX"}},20:function(e,t,a){e.exports={container:"LobbyUserItem_container__1kD2a",container__ready:"LobbyUserItem_container__ready__EJIrs",username:"LobbyUserItem_username__3jWRc",readyIcon:"LobbyUserItem_readyIcon__1ZTec"}},28:function(e,t,a){e.exports={page:"App_page__63Z8_"}},29:function(e,t,a){e.exports={header:"Header_header__1LeQS",logo:"Header_logo__euief"}},3:function(e,t,a){e.exports={container:"ProgressInfoContainer_container__2p144",top:"ProgressInfoContainer_top__2_a4m",bottom:"ProgressInfoContainer_bottom__3pSBV",textWrapperLeft:"ProgressInfoContainer_textWrapperLeft__16JKy",textWrapperCenter:"ProgressInfoContainer_textWrapperCenter__2imol",textWrapperRight:"ProgressInfoContainer_textWrapperRight__3jM_W",text:"ProgressInfoContainer_text__k4VoU",text__light:"ProgressInfoContainer_text__light__VhErc",space:"ProgressInfoContainer_space__31O1f",table:"ProgressInfoContainer_table__3uLuS"}},30:function(e,t,a){e.exports={button:"Button_button__25LLe",button__small:"Button_button__small__1FKNm"}},31:function(e,t,a){e.exports={game:"Game_game__1p4Fi",playerSpace:"Game_playerSpace__3tt_o"}},4:function(e,t,a){e.exports={overlay:"WinPopup_overlay__TPYvR",container:"WinPopup_container__3gbwk",top:"WinPopup_top__2aGgB",icon:"WinPopup_icon__32pMy",winnerName:"WinPopup_winnerName__3jc7m",winnerSubtitle:"WinPopup_winnerSubtitle__3aVic",divider:"WinPopup_divider__1qT-J",mid:"WinPopup_mid__3Pr1Y",playerInfo:"WinPopup_playerInfo__3ucPg",playerRank:"WinPopup_playerRank__2LJjx",playerName:"WinPopup_playerName__UdG5E",textLight:"WinPopup_textLight__1WENg",bottom:"WinPopup_bottom__2E30N"}},49:function(e,t,a){e.exports={spacer:"JoinLobby_spacer__2B2id"}},5:function(e,t,a){e.exports={container:"Road_container__3bwUl",userInfoRow:"Road_userInfoRow__1Xprc",lightText:"Road_lightText__NvJoj",lighterText:"Road_lighterText__2o21I",roadContainer:"Road_roadContainer__2H0b6",userInfoRowSpacer:"Road_userInfoRowSpacer__3V1q-",road:"Road_road__49ZTC",useableRoad:"Road_useableRoad__ncx0I",flagIcon:"Road_flagIcon__1Uw4X",carBox:"Road_carBox__2Qhsw",carIcon:"Road_carIcon__299w1"}},50:function(e,t,a){e.exports={container:"Container_container__3fVIS"}},55:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n,s=a(1),r=a.n(s),c=a(47),o=a.n(c),i=(a(55),a(6)),l=a(48),j=a(28),_=a.n(j),b=a(29),d=a.n(b),x=a.p+"static/media/twentyfivesoftware-logo.f2a26368.png",u=a(0),p=function(){return Object(u.jsx)("div",{className:d.a.header,children:Object(u.jsx)("img",{src:x,alt:"",className:d.a.logo})})},m=a(49),h=a.n(m),O=a(50),f=a.n(O),g=function(e){var t=e.children;return Object(u.jsx)("section",{className:f.a.container,children:t})},N=a(17),v=a.n(N),y=function(e){var t=e.label,a=e.value,n=e.onChange,s=e.length,r=void 0===s?30:s,c=e.error,o=void 0!==c&&c;return Object(u.jsxs)("div",{className:v.a.box,children:[Object(u.jsx)("div",{className:o?v.a.label__error:v.a.label,children:t}),Object(u.jsx)("input",{type:"text",className:o?v.a.inputBox__error:v.a.inputBox,maxLength:r,value:a,onChange:function(e){return n(e.target.value)}})]})},I=a(30),S=a.n(I),R=function(e){var t=e.text,a=e.onClick,n=e.small,s=void 0!==n&&n;return Object(u.jsx)("div",{className:s?S.a.button__small:S.a.button,onClick:function(){return a()},children:t})},B=function(){var e=Object(s.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(""),c=Object(i.a)(r,2),o=c[0],l=c[1],j=Object(s.useState)(!1),_=Object(i.a)(j,2),b=_[0],d=_[1],x=Object(s.useState)(!1),p=Object(i.a)(x,2),m=p[0],O=p[1],f=function(){return X.emit("joinLobby",a,o)};return Object(s.useEffect)((function(){X.on("errorIncorrectUsername",(function(){return d(!0)})),X.on("errorLobbyNotFound",(function(){return O(!0)}))}),[]),Object(u.jsx)("div",{onKeyDown:function(e){return"Enter"===e.key?f():null},children:Object(u.jsxs)(g,{children:[Object(u.jsx)(y,{label:"USERNAME",value:a,onChange:function(e){b&&d(!1),n(e)},length:30,error:b}),Object(u.jsx)(y,{label:"LOBBY ID (EMPTY FOR NEW LOBBY)",value:o,onChange:function(e){m&&O(!1),l(e.toUpperCase())},length:5,error:m}),Object(u.jsx)("div",{className:h.a.spacer}),Object(u.jsx)(R,{text:0===o.length?"CREATE LOBBY":"JOIN",onClick:function(){return f()}})]})})},C=a(14),P=a.n(C),L=a(12),w=a(13),T=a(20),W=a.n(T),E=function(e){var t=e.username,a=e.isReady;return Object(u.jsxs)("div",{className:a?W.a.container__ready:W.a.container,children:[Object(u.jsx)("p",{className:W.a.username,children:t}),a&&Object(u.jsx)(L.a,{icon:w.b,className:W.a.readyIcon})]})},k=function(e){var t=e.lobbyState;return Object(u.jsx)("div",{className:P.a.lobby,children:Object(u.jsxs)(g,{children:[Object(u.jsx)("h1",{className:P.a.title,children:"LOBBY"}),Object(u.jsxs)("p",{className:P.a.subtitle,children:["ID: ",Object(u.jsx)("span",{children:t.lobbyId})]}),Object(u.jsx)("div",{className:P.a.separator}),Object(u.jsx)("ul",{className:P.a.users,children:t.players.map((function(e,t){return Object(u.jsx)(E,{username:e.username,isReady:e.isReady},t)}))}),Object(u.jsx)("div",{className:P.a.separator}),Object(u.jsx)(R,{text:"READY",onClick:function(){return X.emit("toggleReady")}})]})})},F=a(31),U=a.n(F),M=a(3),A=a.n(M),J=function(e){var t=e.gameState,a=e.currentTextPosition,n=t.text,s=t.players,r=t.gameStartTime,c=s.find((function(e){return e.socketId===X.id}));if(!c)return Object(u.jsx)(u.Fragment,{});var o=Math.floor(((c.isFinished?c.finishTime:Date.now())-r)/1e3);return Object(u.jsxs)("section",{className:A.a.container,children:[Object(u.jsx)("div",{className:A.a.top,children:Object(u.jsxs)("div",{className:A.a.table,children:[Object(u.jsx)("span",{className:A.a.text__light,children:Object(u.jsx)("div",{children:n.substring(0,a)})}),Object(u.jsx)("span",{className:A.a.text,children:n[a]}),Object(u.jsx)("span",{className:A.a.text,children:n.substring(a+1)})]})}),Object(u.jsxs)("div",{className:A.a.bottom,children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{className:A.a.text,children:c.typingSpeed}),Object(u.jsx)("span",{className:A.a.text__light,children:"K/min"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{className:A.a.text,children:a}),Object(u.jsx)("span",{className:A.a.text__light,children:"/"}),Object(u.jsx)("span",{className:A.a.text,children:n.length}),Object(u.jsx)("span",{className:A.a.text__light,children:"letters typed"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{className:A.a.text,children:Math.floor(100*a/n.length)}),Object(u.jsx)("span",{className:A.a.text__light,children:"% completed"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{className:A.a.text,children:o}),Object(u.jsx)("span",{className:A.a.text__light,children:"s passed"})]})]})]})},Y=a(5),V=a.n(Y),D=function(e){var t=e.username,a=e.speed,n=e.progress,s=e.color;return Object(u.jsxs)("section",{className:V.a.container,children:[Object(u.jsxs)("div",{className:V.a.userInfoRow,children:[Object(u.jsx)("p",{className:V.a.lightText,children:t}),Object(u.jsx)("div",{className:V.a.userInfoRowSpacer,children:Object(u.jsx)("p",{children:" \xb7 "})}),Object(u.jsxs)("p",{className:V.a.lightText,children:["".concat(a," "),Object(u.jsx)("span",{className:V.a.lighterText,children:"K/min"})]})]}),Object(u.jsxs)("div",{className:V.a.roadContainer,children:[Object(u.jsx)("div",{className:V.a.road,children:Object(u.jsx)("div",{className:V.a.useableRoad,children:Object(u.jsx)("div",{style:{marginLeft:"".concat(n,"%"),marginBottom:10},className:V.a.carBox,children:Object(u.jsx)(L.a,{icon:w.a,style:{color:s},className:V.a.carIcon})})})}),Object(u.jsx)("div",{children:Object(u.jsx)(L.a,{icon:w.c,style:{color:100===n?s:"#505050"},className:V.a.flagIcon})})]})]})},G=a(4),K=a.n(G),H=function(e){var t=e.gameState,a=t.players.sort((function(e,t){return e.finishTime>t.finishTime?1:-1}));return 0===a.length?Object(u.jsx)(u.Fragment,{}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:K.a.overlay}),Object(u.jsxs)("div",{className:K.a.container,children:[Object(u.jsxs)("div",{className:K.a.top,children:[Object(u.jsx)(L.a,{icon:w.d,className:K.a.icon}),Object(u.jsx)("div",{className:K.a.winnerName,children:a[0].username}),Object(u.jsx)("div",{className:K.a.winnerSubtitle,children:"WON THE GAME"})]}),Object(u.jsx)("div",{className:K.a.divider}),Object(u.jsx)("table",{className:K.a.mid,children:a.map((function(e,a){return Object(u.jsxs)("tr",{className:K.a.playerInfo,children:[Object(u.jsxs)("td",{className:K.a.playerRank,children:["#",a+1]}),Object(u.jsx)("td",{className:K.a.playerName,children:e.username}),Object(u.jsxs)("td",{className:K.a.playerTime,children:[Math.floor((e.finishTime-t.gameStartTime)/1e3),Object(u.jsx)("span",{className:K.a.textLight,children:"s"})]}),Object(u.jsxs)("td",{children:[e.typingSpeed," ",Object(u.jsx)("span",{className:K.a.textLight,children:"K/min"})]})]},a)}))}),Object(u.jsx)("div",{className:K.a.bottom,children:Object(u.jsx)(R,{text:"PLAY AGAIN",small:!0,onClick:function(){}})})]})]})},Z=["#74B9FF","#83A868","#FCAC6F","#DF4A70","#BE9CFC"],Q=function(e){var t=e.gameState,a=Object(s.useState)(0),n=Object(i.a)(a,2),r=n[0],c=n[1];return Object(s.useEffect)((function(){var e=function(e){t.text[r]===e.key&&(c(r+1),X.emit("gameUpdate",r+1))};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[r,t.text]),Object(u.jsxs)("div",{className:U.a.game,children:[Object(u.jsx)("div",{className:U.a.playerSpace,children:t.players.map((function(e,a){return Object(u.jsx)(D,{username:e.username,speed:e.typingSpeed,progress:Math.floor(100*e.currentTextPosition/t.text.length),color:Z[a%Z.length]},a)}))}),Object(u.jsx)("div",{children:Object(u.jsx)(J,{currentTextPosition:r,gameState:t})}),t.isFinished&&Object(u.jsx)(H,{gameState:t})]})},X=Object(l.io)(null!==(n="https://typerace-server.herokuapp.com")?n:""),q=function(){var e=Object(s.useState)(null),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(null),c=Object(i.a)(r,2),o=c[0],l=c[1];return Object(s.useEffect)((function(){X.on("lobbyState",(function(e){return n(e)})),X.on("gameState",(function(e){return l(e)}))}),[]),console.log(o),o?Object(u.jsxs)("div",{className:_.a.page,children:[Object(u.jsx)(p,{}),Object(u.jsx)(Q,{gameState:o})]}):Object(u.jsxs)("div",{className:_.a.page,children:[Object(u.jsx)(p,{}),!a&&Object(u.jsx)(B,{}),a&&Object(u.jsx)(k,{lobbyState:a})]})};o.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(q,{})}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.d0d7b7af.chunk.js.map